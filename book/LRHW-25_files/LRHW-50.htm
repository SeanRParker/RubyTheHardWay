<!DOCTYPE html>
<!-- saved from url=(0046)https://learnrubythehardway.org/book/ex50.html -->
<html class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  
  
  
  <title>Learn Ruby the Hard Way - Read for Free</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link href="https://www.google-analytics.com/" rel="dns-prefetch">
  <link href="https://ajax.googleapis.com/" rel="dns-prefetch">

  <link href="./LRHW-50_files/css" rel="stylesheet" type="text/css">
  <link href="./LRHW-50_files/style.min.css" rel="stylesheet">
  <!-- http://www.socicon.com -->
  <link href="./LRHW-50_files/icons.css" rel="stylesheet">

  
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/">
<title>Exercise 50: Your First Website</title>

<style>@media print {#ghostery-purple-box {display:none !important}}</style><style media="print" class="jx_ui_StyleSheet" __jx__id="___$_2" type="text/css">.zopim { display: none !important }</style></head>

<body class="baseline-grid-off book-site" id="top" cz-shortcut-listen="true"><div class="zopim" __jx__id="___$_60 ___$_60" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; padding: 0px; border: 0px; background: transparent; overflow: hidden; position: fixed; z-index: 16000002; width: 180px; height: 30px; right: 10px; bottom: 0px; display: none;"><iframe frameborder="0" src="./LRHW-50_files/saved_resource.html" style="background-color: transparent; vertical-align: text-bottom; position: relative; width: 100%; height: 100%; min-width: 100%; min-height: 100%; max-width: 100%; max-height: 100%; margin: 0px; overflow: hidden; display: block;"></iframe></div><div class="zopim" __jx__id="___$_4 ___$_4" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; padding: 0px; border: 0px; background: transparent; overflow: hidden; position: fixed; z-index: 16000001; right: 15px; bottom: 0px; border-top-left-radius: 5px; border-top-right-radius: 5px; display: none; width: 350px; height: 450px; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 0px 3px 2px;"><iframe frameborder="0" src="./LRHW-50_files/saved_resource(1).html" style="background-color: transparent; vertical-align: text-bottom; position: relative; width: 100%; height: 100%; min-width: 100%; min-height: 100%; max-width: 100%; max-height: 100%; margin: 0px; overflow: hidden; display: block;"></iframe></div>


  
  
<div data-scrollmagic-pin-spacer="" class="scrollmagic-pin-spacer" style="top: auto; left: auto; bottom: auto; right: auto; margin: 0px; display: block; position: absolute; box-sizing: content-box; width: 100%; height: 107px;"><header class="header" role="banner" style="position: absolute; margin: auto; top: 0px; left: 0px; bottom: auto; right: auto; box-sizing: border-box;">
  <nav class="navbar navbar-full nav-brand-family">
    <div class="row middle-xs">
      <ul class="brand-links show-md col-xs-3 col-sm-10 bare">
        <li><a href="http://learncodethehardway.org/" class="waves-effect">Learn:</a></li>
        
        <li><a href="http://learncodethehardway.org/python/" class="waves-effect">Python</a></li>
        
        <li><a href="http://learncodethehardway.org/ruby/" class="waves-effect active">Ruby</a></li>
        
        <li><a href="http://learncodethehardway.org/more-python/" class="waves-effect">More Python</a></li>
        
        <li><a href="http://learncodethehardway.org/c/" class="waves-effect">C</a></li>
        
        <li><a href="http://learncodethehardway.org/sql/" class="waves-effect">SQL</a></li>
        
        <li><a href="http://learncodethehardway.org/javascript/" class="waves-effect">Javascript</a></li>
        
        <li><a href="http://learncodethehardway.org/unix/" class="waves-effect">Unix</a></li>
        
        <li><a href="http://learncodethehardway.org/regex/" class="waves-effect">RegEx</a></li>
        
        <li><a href="http://www.learndesignthehardway.com/" class="waves-effect">Design</a></li>
        
      </ul>
      <ul class="brand-links hide-md col-xs-3 col-sm-10 bare">
        <li><a href="http://learncodethehardway.org/" class="waves-effect">LCTHW</a></li>
      </ul>
      
      <ul class="site-meta col-xs-9 col-sm-2 end-xs bare">
        <li><a href="https://shop.learncodethehardway.org/access/reactivate/" class="waves-effect"><i class="icon icon-user"></i> Login</a></li>
      </ul>
      
    </div>
  </nav>
  
  <nav class="navbar navbar-full nav-main" role="navigation">
    <div class="row between-xs center-xs middle-xs bare">
      <div class="col-xs-4 start-xs bare">
        <a href="https://learnrubythehardway.org/book/ex50.html#" class="no-underline nav-trigger waves-effect" id="toc"><div class="transformer hamburcloser">
          <div class="bar bar-t"></div>
          <div class="bar bar-m-a"></div>
          <div class="bar bar-m-b"></div>
          <div class="bar bar-b"></div>
        </div><span class="nav-trigger_text show-sm-inline">Contents</span></a>
      </div>
      <div class="col-xs-4"><strong>&nbsp;</strong></div>
      <div class="col-xs-4 end-xs bare">
        <a href="https://helpthw.zendesk.com/hc/en-us" class="no-underline nav-trigger waves-effect" id="help"><div class="transformer questioncloser">
          <div class="icon-question-mark"></div>
        </div><span class="nav-trigger_text show-sm-inline">Help</span></a>
      </div>
    </div>
  </nav>
  
</header></div>




  <div class="masthead ruby-background" style="background-image: url(&#39;/images/pattern-ruby.svg&#39;)">
    <img src="./LRHW-50_files/logo-ruby.svg" alt="Learn Ruby The Hard Way" class="logo">
  </div>

  <div class="wrapper">
    <aside class="sidebar sidebar-left" role="complementary">
      <nav class="side-nav-container">
        <ol class="table-of-contents">
          <h3>Table of Contents</h3>
            <li><a href="https://learnrubythehardway.org/book/preface.html">Preface</a></li>
            <li><a href="https://learnrubythehardway.org/book/intro.html">The Hard Way Is Easier</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex0.html">Ex0: The Setup</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex1.html">Ex1: A Good First Program</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex2.html">Ex2: Comments And Pound Characters</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex3.html">Ex3: Numbers And Math</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex4.html">Ex4: Variables And Names</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex5.html">Ex5: More Variables And Printing</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex6.html">Ex6: Strings And Text</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex7.html">Ex7: More Printing</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex8.html">Ex8: Printing, Printing</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex9.html">Ex9: Printing, Printing, Printing</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex10.html">Ex10: What Was That?</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex11.html">Ex11: Asking Questions</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex12.html">Ex12: Prompting People</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex13.html">Ex13: Parameters, Unpacking, Variables</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex14.html">Ex14: Prompting And Passing</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex15.html">Ex15: Reading Files</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex16.html">Ex16: Reading And Writing Files</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex17.html">Ex17: More Files</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex18.html">Ex18: Names, Variables, Code, Functions</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex19.html">Ex19: Functions And Variables</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex20.html">Ex20: Functions And Files</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex21.html">Ex21: Functions Can Return Something</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex22.html">Ex22: What Do You Know So Far?</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex23.html">Ex23: Read Some Code</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex24.html">Ex24: More Practice</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex25.html">Ex25: Even More Practice</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex26.html">Ex26: Congratulations, Take A Test!</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex27.html">Ex27: Memorizing Logic</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex28.html">Ex28: Boolean Practice</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex29.html">Ex29: What If</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex30.html">Ex30: Else And If</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex31.html">Ex31: Making Decisions</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex32.html">Ex32: Loops And Lists</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex33.html">Ex33: While Loops</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex34.html">Ex34: Accessing Elements Of Lists</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex35.html">Ex35: Branches and Functions</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex36.html">Ex36: Designing and Debugging</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex37.html">Ex37: Symbol Review</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex38.html">Ex38: Doing Things To Lists</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex39.html">Ex39: Dictionaries, Oh Lovely Dictionaries</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex40.html">Ex40: Modules, Classes, And Objects</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex41.html">Ex41: Learning To Speak Object Oriented</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex42.html">Ex42: Is-A, Has-A, Objects, and Classes</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex43.html">Ex43: Gothons From Planet Percal #25</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex44.html">Ex44: Inheritance Vs. Composition</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex45.html">Ex45: You Make A Game</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex46.html">Ex46: A Project Skeleton</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex47.html">Ex47: Automated Testing</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex48.html">Ex48: Advanced User Input</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex49.html">Ex49: Making Sentences</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex50.html">Ex50: Your First Website</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex51.html">Ex51: Getting Input From A Browser</a></li>
            <li><a href="https://learnrubythehardway.org/book/ex52.html">Ex52: The Start Of Your Web Game</a></li>
            <li><a href="https://learnrubythehardway.org/book/advice.html">Advice From An Old Programmer</a></li>
            <li><a href="https://learnrubythehardway.org/book/next.html">Next Steps</a></li>
            <li><a href="https://learnrubythehardway.org/book/appendixa.html">Appendix A: Command Line Crash Course</a></li>
        </ol>
        <ul class="site-links">
          <h3>Learn the Hard Way</h3>
          <li><a href="https://learnrubythehardway.org/book/ex50.html#" class="waves-effect"><i class="icon-information"></i> About LPTHW</a></li>
          <li><a href="https://learnrubythehardway.org/book/ex50.html#" class="waves-effect"><i class="icon-first-aid"></i> Help &amp; Support</a></li>
          <li><a href="https://learnrubythehardway.org/book/ex50.html#" class="waves-effect"><i class="icon-power-1"></i> Follow us on Twitter</a></li>
        </ul>
      </nav>
      <div class="colophon text-center">
        <div class="intro">
          <p class="bare-bottom" id="p0">
            The type for this book is set in 18px / 1.5
            <a href="https://www.google.com/fonts/specimen/Source+Serif+Pro">Adobe Serif</a>,
            <a href="https://www.google.com/fonts/specimen/Source+Sans+Pro">Sans</a>, and
            <a href="https://www.google.com/fonts/specimen/Source+Code+Pro">Code</a>.
          </p>
        </div>
        <div class="printers-mark">
          <div class="inscription">Docendo <i class="icon-repeat"></i> Discimus</div>
        </div>
      </div>
    </aside>

    <div class="overlay"></div>

    <main class="main ruby" role="main">
      <div class="main-container row center-xs">
    <div class="col-xs-11 col-sm-10 col-md-9 col-lg-8">

        <div class="content">
            <!--- RST STARTS -->
            <h1 class="title">Exercise 50: Your First Website</h1>
            <p id="p1">These final three exercises will be very hard and you should take your time with them.  In this first one you'll build a simple web version of one of your games.  Before you attempt this exercise you <em>must</em> have completed Exercise 46 successfully and have a working <tt class="docutils literal">gem</tt> installed such that you can install packages and know how to make a skeleton project directory.  If you don't remember how to do this, go back to Exercise 46 and do it all over again.</p>
<div class="section" id="installing-sinatra">
<h1>Installing Sinatra</h1>
<p id="p2">Before creating your first web application, you'll first need to install the "web framework" called Sinatra.  The term "framework" generally means "some package that makes it easier for me to do something."  In the world of web applications, people create "web frameworks" to compensate for the difficult problems they've encountered when making their own sites.  They share these common solutions in the form of a package you can download to bootstrap your own projects.</p>
<p id="p3">In our case, we'll be using the Sinatra framework, but there are many, many, <em>many</em> others you can choose from.  For now, learn Sinatra, then branch out to another one when you're ready (or just keep using Sinatra since it's good enough).</p>
<p id="p4">Using <tt class="docutils literal">gem</tt>, install Sinatra:</p>
<pre class="code console literal-block"><span class="generic prompt">$</span> sudo gem install sinatra
<span class="generic output">Password:
Fetching: rack-1.5.2.gem (100%)
Successfully installed rack-1.5.2
Fetching: tilt-1.4.1.gem (100%)
Successfully installed tilt-1.4.1
Fetching: rack-protection-1.5.3.gem (100%)
Successfully installed rack-protection-1.5.3
Fetching: sinatra-1.4.5.gem (100%)
Successfully installed sinatra-1.4.5
Parsing documentation for rack-1.5.2
Installing ri documentation for rack-1.5.2
Parsing documentation for rack-protection-1.5.3
Installing ri documentation for rack-protection-1.5.3
Parsing documentation for sinatra-1.4.5
Installing ri documentation for sinatra-1.4.5
Parsing documentation for tilt-1.4.1
Installing ri documentation for tilt-1.4.1
Done installing documentation for rack, rack-protection, sinatra, tilt after 303 seconds
4 gems installed
</span><span class="generic prompt">$</span>
</pre>
<p id="p5">This will work on Linux and Mac OSX computers, but on Windows just drop the <tt class="docutils literal">sudo</tt> part of the <tt class="docutils literal">gem install</tt> command and it should work.  If not, go back to Exercise 46 and make sure you can do it reliably.  You may also see different versions and names of packages installed but should not see any errors.</p>
</div>
<div class="section" id="make-a-simple-hello-world-project">
<h1>Make a Simple "Hello World" Project</h1>
<p id="p6">Now you're going to make an initial very simple "Hello World" web application and project directory using Sinatra.  First, make your project directory based on the skeleton you have:</p>
<pre class="code console literal-block"><span class="generic prompt">$</span> <span class="name builtin">cd</span> projects
<span class="generic prompt">$</span> cp -r skeleton gothonweb
<span class="generic prompt">$</span> <span class="name builtin">cd</span> gothonweb
<span class="generic prompt">$</span> mv bin/NAME bin/app.rb
<span class="generic prompt">$</span> mv lib/NAME lib/gothonweb
<span class="generic prompt">$</span> mv lib/NAME.rb lib/gothonweb.rb
<span class="generic prompt">$</span> mv NAME.gemspec gothonweb.gemspec
<span class="generic prompt">$</span> mv tests/test_NAME.rb tests/test_gothonweb.rb
<span class="generic prompt">$</span> rm tests/NAME_tests.rb
<span class="generic prompt">$</span> mkdir views
<span class="generic prompt">$</span> mkdir static
</pre>
<p id="p7">You'll be taking the game from Exercise 43 and making it into a web application, so that's why you're calling it <tt class="docutils literal">gothonweb</tt>.  Before you do that, we need to create the most basic Sinatra application possible.  Put the following code into <tt class="docutils literal">bin/app.rb</tt>:</p>
<table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><a name="ruby--ex50--gothonweb--bin--app.rb-idio.html-1"></a><span class="nb">require</span> <span class="s1">'sinatra'</span>
<a name="ruby--ex50--gothonweb--bin--app.rb-idio.html-2"></a>
<a name="ruby--ex50--gothonweb--bin--app.rb-idio.html-3"></a><span class="n">set</span> <span class="ss">:port</span><span class="p">,</span> <span class="mi">8080</span>
<a name="ruby--ex50--gothonweb--bin--app.rb-idio.html-4"></a><span class="n">set</span> <span class="ss">:static</span><span class="p">,</span> <span class="kp">true</span>
<a name="ruby--ex50--gothonweb--bin--app.rb-idio.html-5"></a><span class="n">set</span> <span class="ss">:public_folder</span><span class="p">,</span> <span class="s2">"static"</span>
<a name="ruby--ex50--gothonweb--bin--app.rb-idio.html-6"></a><span class="n">set</span> <span class="ss">:views</span><span class="p">,</span> <span class="s2">"views"</span>
<a name="ruby--ex50--gothonweb--bin--app.rb-idio.html-7"></a>
<a name="ruby--ex50--gothonweb--bin--app.rb-idio.html-8"></a><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
<a name="ruby--ex50--gothonweb--bin--app.rb-idio.html-9"></a>    <span class="k">return</span> <span class="s1">'Hello world'</span>
<a name="ruby--ex50--gothonweb--bin--app.rb-idio.html-10"></a><span class="k">end</span>
<a name="ruby--ex50--gothonweb--bin--app.rb-idio.html-11"></a>
<a name="ruby--ex50--gothonweb--bin--app.rb-idio.html-12"></a><span class="n">get</span> <span class="s1">'/hello/'</span> <span class="k">do</span>
<a name="ruby--ex50--gothonweb--bin--app.rb-idio.html-13"></a>    <span class="n">greeting</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="ss">:greeting</span><span class="o">]</span> <span class="o">||</span> <span class="s2">"Hi There"</span>
<a name="ruby--ex50--gothonweb--bin--app.rb-idio.html-14"></a>    <span class="n">erb</span> <span class="ss">:index</span><span class="p">,</span> <span class="ss">:locals</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="s1">'greeting'</span> <span class="o">=&gt;</span> <span class="n">greeting</span><span class="p">}</span>
<a name="ruby--ex50--gothonweb--bin--app.rb-idio.html-15"></a><span class="k">end</span>
</pre></div>
</td></tr></tbody></table><p id="p8">Then run the application like this:</p>
<pre class="code console literal-block"><span class="generic prompt">$</span> ruby bin/app.rb
<span class="generic output">[2014-07-03 16:02:44] INFO  WEBrick 1.3.1
[2014-07-03 16:02:44] INFO  ruby 2.1.2 (2014-05-08) [x86_64-darwin11.0]
== Sinatra/1.4.5 has taken the stage on 8080 for development with backup from WEBrick
[2014-07-03 16:02:44] INFO  WEBrick::HTTPServer#start: pid=20305 port=8080</span>
</pre>
<p id="p9">The output you see is Sinatra running your little "hello world" application. However, if you did this:</p>
<pre class="code console literal-block"><span class="generic prompt">$</span> <span class="name builtin">cd</span> bin/   <span class="comment single"># WRONG! WRONG! WRONG!
</span><span class="generic prompt">$</span><span class="comment single"></span> ruby bin/app.rb <span class="comment single"># WRONG! WRONG! WRONG!</span>
</pre>
<p id="p10">Then you are doing it <em>wrong</em>.  In all Ruby projects you do not <tt class="docutils literal">cd</tt> into a lower directory to run things.  You stay at the top and run everything from there so that all of the system can access all the modules and files.  Go reread Exercise 46 to understand a project layout and how to use it if you did this.</p>
<p id="p11">Finally, use your web browser and go to <tt class="docutils literal"><span class="pre">http://localhost:8080/</span></tt> and you should see two things.  First, in your browser you'll see <tt class="docutils literal">Hello, world!</tt>.  Second, you'll see your Terminal with new output like this:</p>
<pre class="code console literal-block"><span class="generic output">::1 - - [03/Jul/2014 16:07:10] "GET / HTTP/1.1" 200 11 0.0136
localhost - - [03/Jul/2014:16:07:10 PDT] "GET / HTTP/1.1" 200 11
- -&gt; /</span>
</pre>
<p id="p12">Those are log messages that Sinatra prints out so you can see that the server is working, and what the browser is doing behind the scenes.  The log messages help you debug and figure out when you have problems.</p>
<p id="p13">I haven't explained the way <em>any</em> of this web stuff works yet, because I want to get you setup and ready to roll so that I can explain it better in the next two exercises.  To accomplish this, I'll have you break your sinatra application in various ways and then restructure it so that you know how it's setup.</p>
</div>
<div class="section" id="what-s-happening-here">
<h1>What's Happening Here?</h1>
<p id="p14">Here's what's happening when your browser hits your application:</p>
<ol class="arabic simple">
<li>Your browser makes a network connection to your own computer, which is called <tt class="docutils literal">localhost</tt> and is a standard way of saying "whatever my own computer is called on the network."  It also uses port 8080.</li>
<li>Once it connects, it makes an HTTP request to the <tt class="docutils literal">bin/app.rb</tt> application and asks for the <tt class="docutils literal">/</tt> URL, which is commonly the first URL on any website.</li>
<li>Inside <tt class="docutils literal">bin/app.rb</tt> you've got a list of URLs and what classes they match.  The only one we have is the <tt class="docutils literal"><span class="pre">'/',</span> 'index'</tt> mapping.  This means that whenever someone goes to <tt class="docutils literal">/</tt> with a browser, Sinatra will find the <tt class="docutils literal">class index</tt> and load it to handle the request.</li>
<li>Now that Sinatra has found <tt class="docutils literal">class index</tt> it calls the <tt class="docutils literal">index.GET</tt> method on an instance of that class to actually handle the request.  This function runs and simply returns a string for what Sinatra should send to the browser.</li>
<li>Finally, Sinatra has handled the request and sends this response to the browser, which is what you are seeing.</li>
</ol>
<p id="p15">Make sure you really understand this.  Draw up a diagram of how this information flows from your browser, to Sinatra, then to <tt class="docutils literal">index.GET</tt> and back to your browser.</p>
</div>
<div class="section" id="stopping-and-reloading-sinatra">
<h1>Stopping and Reloading Sinatra</h1>
<p id="p16">When you make a change to your Sinatra application you need to stop it and run it again.  Simply hit <tt class="docutils literal"><span class="pre">CTRL-c</span></tt> and it will stop.  Then run the command <tt class="docutils literal">ruby bin/app.rb</tt> again to start it.  You can also use a tool called <tt class="docutils literal">rerun</tt> to automate this.  You install <tt class="docutils literal">rerun</tt> using <tt class="docutils literal">sudo gem install rerun</tt> and then use it like this:</p>
<pre class="code console literal-block"><span class="generic prompt">$</span> rerun <span class="literal string single">'ruby bin/app.rb'</span>
</pre>
<p id="p17">Now make a change to the <tt class="docutils literal">bin/app.rb</tt> file that's small and it should stop then rerun your Sinatra application.  It can take a few seconds for <tt class="docutils literal">rerun</tt> to detect the change, but it should work.</p>
</div>
<div class="section" id="fixing-errors">
<h1>Fixing Errors</h1>
<p id="p18">Go to <tt class="docutils literal"><span class="pre">http://localhost:8080/hello/</span></tt> with your browser and watch as Sinatra gives you a standard error page.  You're receiving this error because you have not created the <tt class="docutils literal">views/index.erb</tt> template yet which line 14 needs to work correctly.  We'll fix this in the next section, but for now read through this and familiarize yourself with what an error looks like.</p>
<ol class="arabic simple">
<li>Look at the top right of the page for the main error, "Errno::ENOENT at /hello/" followed by a better description, the file involves, and possible line.</li>
<li>Look at the <tt class="docutils literal">BACKTRACE</tt> section. This shows you a trace of each line involved in the error that should look familiar to you from other errors you've seen.</li>
<li>Look at the <tt class="docutils literal">GET</tt> and <tt class="docutils literal">POST</tt> section.  These will say there is no data, but in later exercises you'll be passing data that might show up here as variables from forms.</li>
<li>Look at the <tt class="docutils literal">COOKIES</tt> section.  This is data your browser stores for each request, but we won't be using this in this book yet.</li>
</ol>
</div>
<div class="section" id="create-basic-templates">
<h1>Create Basic Templates</h1>
<p id="p19">You can break your Sinatra application, but did you notice that "Hello World" isn't a very good HTML page?  This is a web application, and as such it needs a proper HTML response.  We'll create one in the second handler for <tt class="docutils literal">/hello/</tt> that's in line 12-15.  A "handler" is simple a chunk of code that runs when your browser goes to a new place in the application.  I'll explain a lot more in the next two exercises, but for now put this in the file <tt class="docutils literal">views/index.erb</tt>:</p>
<table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><a name="ruby--ex50--gothonweb--views--index.erb-idio.html-1"></a>&lt;html&gt;
<a name="ruby--ex50--gothonweb--views--index.erb-idio.html-2"></a>    &lt;head&gt;
<a name="ruby--ex50--gothonweb--views--index.erb-idio.html-3"></a>        &lt;title&gt;Gothons Of Planet Percal #25&lt;/title&gt;
<a name="ruby--ex50--gothonweb--views--index.erb-idio.html-4"></a>    &lt;/head&gt;
<a name="ruby--ex50--gothonweb--views--index.erb-idio.html-5"></a>&lt;body&gt;
<a name="ruby--ex50--gothonweb--views--index.erb-idio.html-6"></a>
<a name="ruby--ex50--gothonweb--views--index.erb-idio.html-7"></a>&lt;p&gt;
<a name="ruby--ex50--gothonweb--views--index.erb-idio.html-8"></a>I just wanted to say &lt;em style="color: green; font-size: 2em;"&gt;&lt;%= greeting %&gt;&lt;/em&gt;.
<a name="ruby--ex50--gothonweb--views--index.erb-idio.html-9"></a>&lt;/p&gt;
<a name="ruby--ex50--gothonweb--views--index.erb-idio.html-10"></a>
<a name="ruby--ex50--gothonweb--views--index.erb-idio.html-11"></a>&lt;/body&gt;
<a name="ruby--ex50--gothonweb--views--index.erb-idio.html-12"></a>&lt;/html&gt;
</pre></div>
</td></tr></tbody></table><p id="p20">If you know what HTML is, then this should look fairly familiar. If not, research HTML and try writing a few web pages by hand so you know how it works.  This HTML file, is a <em>template</em>, which means that Sinatra will fill in "holes" in the text depending on variables you pass in to the template.  Every place you see <tt class="docutils literal">$greeting</tt> will be a variable you'll pass to the template that alters its contents.</p>
<p id="p21">Once you have that in place, visit <tt class="docutils literal"><span class="pre">http://localhost:8080/hello/?greeting=Hi</span></tt> in your browser and you should see a different message in green.  You should also be able to do a <tt class="docutils literal">View Source</tt> on the page in your browser to see that it is valid HTML.  You can also try <tt class="docutils literal"><span class="pre">http://localhost:8080/hello/</span></tt> alone and see the default message.</p>
<p id="p22">This may have flown by you very fast, so let me explain how a template works:</p>
<ol class="arabic simple">
<li>The handler <tt class="docutils literal">get '/hello/' do</tt> specifies what happens when your browser goes to <tt class="docutils literal">/hello/</tt>.</li>
<li>In the handler we are getting the <tt class="docutils literal"><span class="pre">?greeting=Hi</span></tt> part by using the <tt class="docutils literal">params</tt> Hashmap.  Sinatra builds <tt class="docutils literal">params</tt> from the request, and we want to make the <tt class="docutils literal">greeting</tt> from it.  Notice the <tt class="docutils literal">|| "Hi There"</tt> at the end?  This is a way of saying, "Either use what's in <tt class="docutils literal">params</tt> or use 'Hi There'."</li>
<li>Next the <tt class="docutils literal">/hello/</tt> handler uses the erb function (remember Ruby lets you not use parenthesis on function calls) to "render" the <tt class="docutils literal">:index</tt> view.  The <tt class="docutils literal">:locals = {'greeting' =&gt; greeting}</tt> part says, "Also give this <tt class="docutils literal">greet</tt> view the local variables <tt class="docutils literal">greeting</tt> with this setting."</li>
<li>When I say <tt class="docutils literal">:greet view</tt> I mean the file <tt class="docutils literal">views/index.erb</tt> you created above.  Sinatra knows this too and loads it for you, passing in the <tt class="docutils literal">greeting</tt> variable as you requested.</li>
<li>The <tt class="docutils literal">views/index.erb</tt> file is called a template, and it has holes in it that is dynamically created.  The part that reads <tt class="docutils literal">&lt;%= greeting %&gt;</tt> does that, so Sinatra runs this, takes the resulting HTML, and sends it to your browser.</li>
</ol>
<p id="p23">To get deeper into this, change the greeting variable and the HTML to see what effect it has.  We will get more into how this works in the last two exercises of this book, but play with this some more and see what you can do.</p>
</div>
<div class="section" id="study-drills">
<h1>Study Drills</h1>
<ol class="arabic simple">
<li>Read the documentation at <a class="reference external" href="http://www.sinatrarb.com/documentation.html">http://www.sinatrarb.com/documentation.html</a>.</li>
<li>Experiment with everything you can find there, including their example code.</li>
<li>Read about HTML5 and CSS.  It's a large topic but just try to get familiar with it.</li>
<li>Put some content in <tt class="docutils literal">static/howdy.html</tt> and go to <a class="reference external" href="http://localhost:8080/howdy.html">http://localhost:8080/howdy.html</a>.  If it doesn't work, make sure your <tt class="docutils literal">app.rb</tt> file has the correct <tt class="docutils literal">:public_folder</tt> setting.</li>
</ol>
</div>
<div class="section" id="common-student-questions">
<h1>Common Student Questions</h1>
<dl class="docutils">
<dt>I can't seem to connect to <a class="reference external" href="http://localhost:8080/">http://localhost:8080/</a>.</dt>
<dd>Try going to <a class="reference external" href="http://127.0.0.1:8080/">http://127.0.0.1:8080/</a> instead.</dd>
<dt>I can't use port 8080 on my computer.</dt>
<dd>You probably have an anti-virus program installed that is using that port.  Try a different port by changing the <tt class="docutils literal">set :port, 8080</tt> line to a different number above 1024.</dd>
</dl>
</div>
            <!-- RST ENDS -->
        </div>

<div class="row between-xs center-xs middle-xs bare" id="notice" style="background-color: #eee">
    <div class="col-xs-11 col-sm-10 col-md-9 col-lg-8">
        <h1>Learn Python 3.6 Is Coming Soon</h1>
        <p>I'm currently upgrading <a href="http://bit.ly/lpthwbook">Learn Python The Hard Way</a> to Python 3.6 and everyone who buys the current version of <a href="http://bit.ly/lpthwbook">Learn Python The Hard Way</a> will get a <em>free upgrade</em>.  You can get 30% off if you <a href="http://bit.ly/buypython">buy it now with coupon code PYTHON36</a>.  <em>Offer only available for a limited time.</em></p>

    </div>
</div>
    </div>

      <div class="row center-xs" id="buy">
    <div class="text-center col-xs-10 col-sm-5 col-md-4">
      <h2 class="section-title__small">Buy DRM-Free</h2>
      <p id="p24">
        When you buy directly from the author, Zed A. Shaw, you'll get a professional
        quality PDF and  hours of HD Video, all DRM-free and yours to download
        and use as you see fit.
      </p>

      <p class="price-block" id="p25">
      <span class="currency"><span class="prefix">$</span>29.<span class="suffix">99</span></span>
      </p>

      <a href="https://shop.learncodethehardway.org/access/buy/5/" class="btn btn-primary btn-full">Buy Directly From The Author</a>
      
      <p class="text-left btn-subtext" id="p26">
        <small>Or, you can <a href="https://learnrubythehardway.org/book/">read Learn Ruby the Hard Way for free</a> right here, video lectures not included.</small>
      </p>
      
    </div>
    <div class="text-center col-xs-10 col-sm-5 col-md-4 col-sm-offset-1">
      
      <h2 class="section-title__small">Other Buying Options</h2>
      <a href="http://bit.ly/amznlrthw" class="btn btn-secondary btn-full">Buy on Amazon</a>
      <a href="http://bit.ly/informitlrthw" class="btn btn-secondary btn-full">Buy a hard copy from the Publisher</a>
      <a href="http://bit.ly/bnlrthw" class="btn btn-secondary btn-full">Buy a hard copy from Barnes &amp; Noble</a>
      
    </div>
  </div>

  <div class="row center-xs" id="video_holder" style="display: none">
      <div class="col-xs">
          <div data-paydiv_product="5" id="paydiv"></div>
    </div>
  </div>




</div>

    </main>

  </div>

  <div class="row dark bottom-nav">
    <div class="col-xs text-left">
      <a href="https://learnrubythehardway.org/book/ex49.html" class="prev" id="prev_link"><i class="icon-arrow-67"></i> <i class="icon icon-arrow-left"></i> Previous <span class="hide-xs show-sm-inline">Lesson</span></a>
    </div>
    <div class="col-xs text-right"><a href="https://learnrubythehardway.org/book/ex51.html" class="next" id="next_link">Next <span class="hide-xs show-sm-inline">Lesson</span> <i class="icon icon-arrow-right"></i></a>
      </div>
    </div>
  

<footer class="footer">
  <div class="row center-xs">

  <div class="col-xs-11 col-sm-6 col-md-5 col-lg-5">
    <ul class="nav nav-inline">
      <li><h4><a href="https://learnrubythehardway.org/">Home</a></h4></li>
      <li><h4><a href="https://learncodethehardway.org/about/">About</a></h4></li>
      <li><h4><a href="https://learncodethehardway.org/contact/">Contact</a></h4></li>
    </ul>
    <div class="copyright text-left">
      <small class="text-muted">© 2016 Zed A. Shaw</small>
    </div>
  </div>
  <div class="col-xs-11 col-sm-4 col-md-4 col-lg-3">
    <div class="social-media">
      <div class="classy-container">
        <a href="https://twitter.com/lzsthw" class="socicon-twitter"></a>
      </div>
    </div>
  </div>
</div>

</footer>
<script async="" charset="utf-8" src="./LRHW-50_files/saved_resource" type="text/javascript"></script><script src="./LRHW-50_files/scripts.min.js"></script>

<script src="./LRHW-50_files/jquery.js"></script>
<script src="./LRHW-50_files/index.js"></script>
<script src="./LRHW-50_files/jzed.js"></script>
<script src="./LRHW-50_files/video.js"></script>
<link rel="stylesheet" href="./LRHW-50_files/video-js.css">
<script src="./LRHW-50_files/paydiv.js"></script>
<script src="./LRHW-50_files/app.js"></script>
<script src="./LRHW-50_files/littools.js"></script>
<!-- Start of helpthw Zendesk Widget script -->
<iframe src="javascript:false" title="" style="display: none;" src="./LRHW-50_files/saved_resource(2).html"></iframe><script>/*<![CDATA[*/window.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement("iframe");window.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="display: none",d=document.getElementsByTagName("script"),d=d[d.length-1],d.parentNode.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(e){n=document.domain,r.src='javascript:var d=document.open();d.domain="'+n+'";void(0);',o=s}o.open()._l=function(){var o=this.createElement("script");n&&(this.domain=n),o.id="js-iframe-async",o.src=e,this.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write('<body onload="document._l();">'),o.close()}("https://assets.zendesk.com/embeddable_framework/main.js","helpthw.zendesk.com");
/*]]>*/</script>
<!-- End of helpthw Zendesk Widget script -->



<div><iframe data-reactroot="" id="ticketSubmissionForm" class="zEWidget-ticketSubmissionForm" style="border: none; background: transparent; z-index: 999999; transform: translateZ(0px); position: fixed; opacity: 0; right: 0px; bottom: 0px; width: 357px; margin-left: 15px; margin-right: 15px; margin-top: 0px; height: 476px; transition-property: none; transition-timing-function: unset; top: -9999px;" src="./LRHW-50_files/saved_resource(3).html"></iframe></div><script>
    (function(d,s){var z=$zopim,$=z.s= d.createElement(s),e=d.getElementsByTagName(s)[0];
    $.async=!0;$.setAttribute('charset','utf-8');
    $.src='https://v2.zopim.com/?43bhyAkp3pYCNphTsHWmY6JMyxmxLXDu';
    z.t=+new Date;$. type='text/javascript';e.parentNode.insertBefore($,e)})(document,'script');
  </script><div><iframe data-reactroot="" id="launcher" class="zEWidget-launcher zEWidget-launcher--active" style="border: none; background: transparent; z-index: 999998; transform: translateZ(0px); position: fixed; opacity: 1; right: 0px; bottom: 0px; width: 112px; height: 47px; margin: 10px 20px; transition-property: all; transition-timing-function: ease-out; transition-duration: 300ms;" src="./LRHW-50_files/saved_resource(4).html"></iframe></div><div><iframe data-reactroot="" id="nps" class="zEWidget-nps" style="border: none; background: transparent; z-index: 2147483647; transform: translateZ(0px); position: fixed; opacity: 0; right: 0px; bottom: 0px; left: 50%; margin-left: -310px; margin-bottom: 15px; width: 640px; margin-top: 0px; height: 177px; transition-property: none; transition-timing-function: unset; top: -9999px;" src="./LRHW-50_files/saved_resource(5).html"></iframe></div><div><iframe data-reactroot="" id="ipm" class="zEWidget-ipm" style="border: none; background: transparent; z-index: 2147483647; transform: translateZ(0px); position: fixed; opacity: 0; right: 0px; top: -230px; margin-right: 15px; margin-top: 0px; height: 180px; width: 395px; transition-property: none; transition-timing-function: unset;" src="./LRHW-50_files/saved_resource(6).html"></iframe></div><style></style></body></html>